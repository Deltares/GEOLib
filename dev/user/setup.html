<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Setup &#8212; geolib 2.4.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=8cc7f55d" />
    <script src="../_static/documentation_options.js?v=e9ebdb8f"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Server" href="server.html" />
    <link rel="prev" title="Installation" href="install.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="install.html" title="Previous document">Installation</a>
        </li>
        <li>
          <a href="server.html" title="Next document">Server</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="setup">
<span id="id1"></span><h1>Setup<a class="headerlink" href="#setup" title="Link to this heading">¶</a></h1>
<p>GEOLib should work out of the box as a Python module. However, it needs
setting up of a configuration for calculations to work. The configuration
is also used for the metadata used in the model input files, such as your
company name.</p>
<p>You can specify the configuration in two ways. One is to create a geolib.env
file in your working directory. The second is to specify environment variables.</p>
<p>The <em>geolib.env</em> file is a simple text file, which can contain any number of parameters, see the two methods below
to see how you can use this file to configure the path to the console applications.</p>
<section id="setting-the-console-paths-per-application">
<h2>Setting the console paths per application<a class="headerlink" href="#setting-the-console-paths-per-application" title="Link to this heading">¶</a></h2>
<p>In the <em>geolib.env</em> file, you can set the paths to the console applications, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DSTABILITY_CONSOLE_PATH</span><span class="o">=</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Program Files (x86)</span><span class="se">\\</span><span class="s2">Deltares</span><span class="se">\\</span><span class="s2">D-GEO Suite</span><span class="se">\\</span><span class="s2">D-Stability 2023.01</span><span class="se">\\</span><span class="s2">bin</span><span class="se">\\</span><span class="s2">D-Stability Console.exe&quot;</span>
<span class="n">DGEOFLOW_CONSOLE_PATH</span><span class="o">=</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">Deltares</span><span class="se">\\</span><span class="s2">D-GEO Suite</span><span class="se">\\</span><span class="s2">D-Geo Flow 2023.01</span><span class="se">\\</span><span class="s2">bin</span><span class="se">\\</span><span class="s2">DGeoFlow Console.exe&quot;</span>
<span class="n">DSHEETPILING_CONSOLE_PATH</span><span class="o">=</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Program Files (x86)</span><span class="se">\\</span><span class="s2">Deltares</span><span class="se">\\</span><span class="s2">D-Sheet Piling 23.1.1</span><span class="se">\\</span><span class="s2">DSheetPiling.exe&quot;</span>
<span class="n">DFOUNDATIONS_CONSOLE_PATH</span><span class="o">=</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Program Files (x86)</span><span class="se">\\</span><span class="s2">Deltares</span><span class="se">\\</span><span class="s2">D-Foundations 23.1.1</span><span class="se">\\</span><span class="s2">DFoundations.exe&quot;</span>
<span class="n">DSETTLEMENT_CONSOLE_PATH</span><span class="o">=</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Program Files (x86)</span><span class="se">\\</span><span class="s2">Deltares</span><span class="se">\\</span><span class="s2">D-Settlement 23.1.1</span><span class="se">\\</span><span class="s2">DSettlement.exe&quot;</span>
</pre></div>
</div>
</section>
<section id="settings-the-console-path-using-the-common-console-folder-variable">
<h2>Settings the console path using the common CONSOLE_FOLDER variable<a class="headerlink" href="#settings-the-console-path-using-the-common-console-folder-variable" title="Link to this heading">¶</a></h2>
<p>In the <em>geolib.env</em> file, you can set the CONSOLE_FOLDER variable to a folder that should contain all console applications in a single location, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONSOLE_FOLDER</span><span class="o">=</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Users</span><span class="se">\\</span><span class="s2">You</span><span class="se">\\</span><span class="s2">Documents</span><span class="se">\\</span><span class="s2">GEOLibConsoles&quot;</span>  <span class="c1"># path has to exist!</span>
</pre></div>
</div>
<p>This configuration variable points to the folder in which the consoles are placed (each in its own subfolder).</p>
<p>Note that the <em>CONSOLE_FOLDER</em> variable has to point to an existing path,
otherwise GEOLib will not start. The executables are expected in the following locations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="o">*</span><span class="n">CONSOLE_FOLDER</span><span class="o">*/</span><span class="s2">&quot;DFoundations/DFoundations.exe&quot;</span>
<span class="o">-</span> <span class="o">*</span><span class="n">CONSOLE_FOLDER</span><span class="o">*/</span><span class="s2">&quot;DSettlement/DSettlement.exe&quot;</span>
<span class="o">-</span> <span class="o">*</span><span class="n">CONSOLE_FOLDER</span><span class="o">*/</span><span class="s2">&quot;DSheetPiling/DSheetPiling.exe&quot;</span>
<span class="o">-</span> <span class="o">*</span><span class="n">CONSOLE_FOLDER</span><span class="o">*/</span><span class="s2">&quot;DStabilityConsole/D-Stability Console.exe&quot;</span>
<span class="o">-</span> <span class="o">*</span><span class="n">CONSOLE_FOLDER</span><span class="o">*/</span><span class="s2">&quot;DGeoFlowConsole/DGeoFlow Console.exe&quot;</span>
</pre></div>
</div>
<p>It can also be set by a <strong>CONSOLE_FOLDER</strong> environment variable. The environment variable will
overrule the .env file, which in its turn, overrides the defaults set in Python.</p>
</section>
<section id="default-settings">
<h2>Default settings<a class="headerlink" href="#default-settings" title="Link to this heading">¶</a></h2>
<p>The defaults are as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">company</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">analyst</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">startdate</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="n">project</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">remarks</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Created by GEOLib </span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="n">console_folder</span><span class="p">:</span> <span class="n">DirectoryPath</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>

<span class="c1"># Used for remote calculation client side</span>
<span class="n">endpoint</span><span class="p">:</span> <span class="n">AnyHttpUrl</span> <span class="o">=</span> <span class="s2">&quot;http://localhost:8000/&quot;</span>

<span class="c1"># User for both client/server</span>
<span class="n">gl_username</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>
<span class="n">gl_password</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>

<span class="c1"># Used by server</span>
<span class="n">calculation_folder</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;tests/test_output/calculations&quot;</span><span class="p">)</span>
<span class="n">nprocesses</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c1"># For ignoring extra fields that could come with newer/older versions</span>
<span class="c1"># of input/output fields. We don&#39;t support any other value than &quot;forbid&quot;!</span>
<span class="n">extra_fields</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>  <span class="c1"># can be &quot;ignore&quot;, &quot;allow&quot; or &quot;forbid&quot;</span>
</pre></div>
</div>
</section>
<section id="dynamic-settings">
<h2>Dynamic settings<a class="headerlink" href="#dynamic-settings" title="Link to this heading">¶</a></h2>
<p>If you don’t wish to use <em>geolib.env</em> files or wish to override them, you can change the final settings
in Python itself, using the <em>meta</em> methods on a model. Note that changing the properties for one model changes the global settings, so it applies to all instances of a model.
For example, to override the <em>console_folder</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">geolib</span> <span class="k">as</span> <span class="nn">gl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dm</span> <span class="o">=</span> <span class="n">gl</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">DSettlementModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dm</span><span class="o">.</span><span class="n">get_meta_property</span><span class="p">(</span><span class="s2">&quot;company&quot;</span><span class="p">)</span>
<span class="go">Deltares</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dm</span><span class="o">.</span><span class="n">set_meta_property</span><span class="p">(</span><span class="s2">&quot;console_folder&quot;</span><span class="p">,</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;other_location&quot;</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Link to this heading">¶</a></h2>
<p>GEOLib makes use of the built-in logging library. If you need to control the level of logging, you can do the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">logging</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;geolib&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example, logging has been set to the ERROR level.
Note that for setting lower levels than the default warning level, you have to configure your own root logger as well.</p>
</section>
<section id="consoles">
<h2>Consoles<a class="headerlink" href="#consoles" title="Link to this heading">¶</a></h2>
<p>You can download the consoles <a class="reference external" href="https://download.deltares.nl/geolib">here</a>,
with the given password. You also need to download the license manager
from <a class="reference external" href="https://download.deltares.nl/en/license-manager">here</a> and install the given license using the “Add License File” program.</p>
</section>
<section id="console-usage">
<h2>Console usage<a class="headerlink" href="#console-usage" title="Link to this heading">¶</a></h2>
<p>If you wish to use these consoles without Python on the command line,
note that all except for the D-Stability and D-Geo Flow consoles require the “/b” flag, i.e.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ DFoundations/DFoundations.exe /b &quot;folder_or_file&quot;
</pre></div>
</div>
<p>Note that you can only execute these files from the commandline, double clicking on them in Explorer won’t work.</p>
</section>
<section id="version-differences">
<h2>Version differences<a class="headerlink" href="#version-differences" title="Link to this heading">¶</a></h2>
<p>Each D-Serie / D-GEO Suite release can slightly change the structure of the input files. New fields are added and some fields are changed or deleted.</p>
<p>GEOLib only supports the files used by the D-Serie / D-GEO Suite consoles and thus the consoles specific version number.
At the moment that version number is:</p>
<ul class="simple">
<li><p>D-Settlement <strong>23.2</strong></p></li>
<li><p>D-Foundations <strong>23.1</strong></p></li>
<li><p>D-SheetPiling <strong>23.1</strong></p></li>
<li><p>D-Stability <strong>2024.01</strong></p></li>
<li><p>D-Geo Flow <strong>2024.01</strong></p></li>
</ul>
<p>Loading files generated by either older or newer versions isn’t guaranteed to work and will likely result in an error message such as ValidationError(extra fields not permitted).
You could disable this by changing the extra_fields setting described above, but we don’t support this.</p>
<p>You can however easily fix this by resaving the file with the correct version of the console or GUI:</p>
<ul class="simple">
<li><p>Open one file at a time with the correct D-Serie / D-GEO Suite GUI version and save it again.</p></li>
<li><p>Run the correct D-Serie / D-GEO Suite console on a file or complete folder of files. This will generate output files, but also save overwrite the input files in the correct version format.</p></li>
</ul>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="install.html" title="Previous document">Installation</a>
        </li>
        <li>
          <a href="server.html" title="Next document">Server</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/geolib.png" alt="Logo" />
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setting-the-console-paths-per-application">Setting the console paths per application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#settings-the-console-path-using-the-common-console-folder-variable">Settings the console path using the common CONSOLE_FOLDER variable</a></li>
<li class="toctree-l2"><a class="reference internal" href="#default-settings">Default settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dynamic-settings">Dynamic settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logging">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#consoles">Consoles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#console-usage">Console usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-differences">Version differences</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="server.html">Server</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community/tutorial.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/api.html">API Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/extend.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/todo.html">To Do</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://github.com/Deltares/GEOLib">@Source code</a></li>
    
    <li class="toctree-l1"><a href="https://github.com/Deltares/GEOLib/issues">@Issue Tracker</a></li>
    
    <li class="toctree-l1"><a href="https://deltares.github.io/geolib/">@Project documentation</a></li>
    
    <li class="toctree-l1"><a href="https://github.com/Deltares/GEOLib/releases">@Changelog</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="install.html" title="previous chapter">Installation</a></li>
      <li>Next: <a href="server.html" title="next chapter">Server</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2023, Deltares.
      
    </div>

    

    
  </body>
</html>